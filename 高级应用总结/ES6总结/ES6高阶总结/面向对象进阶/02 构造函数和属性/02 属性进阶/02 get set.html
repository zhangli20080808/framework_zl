<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>Get set 取值器 设置器</title>
</head>
<body>
<div id="itemInfo">
    <div id="name">
        <h1 id='pname'>乐视TV（ Letv） S50 Air 全配版 50英寸2D智能LED液晶 超级电视</h1>
        <div id="pdes">各地区货源已陆续到库，我们将在十月十号左右发货，对于此次延迟发货给您带来的不便表示致歉，望您谅解。</div>
        <div >已售：<strong id="psales">6000</strong></div>
        <div>原价：<strong id='pprice'>6000</strong>元</div>
        <div>优惠价：<strong id='pyouhui'>5000</strong>元</div>
        <div>折扣：<strong id='pzhekou'>6.0</strong>折</div>
        <div>生产日期：<strong id='date'>2015-09-09</strong></div>
    </div>
</div>
<button id='btn'>加入购物车</button>

</body>
</html>

<script>

    //产品对象
    /*对象内如何使用对象的属性和方法：this，对象外如何使用：先实例化，后用点语法*/
    /*类 -- 抽象对象*/
    function Product(name,price) {
        /*属性 行为 可以为空或者给默认值*/
        this.name=name
        this.price=0;
        this.description = '';
        this.zhekou = ''
        this.sales = ''
        /*我们的需求：自动计算打折后的价格*/
        Object.defineProperty(this,'price',{
          get:function(){return price*0.4}
          set: function(value){
            if(value>10000){
              alert(1)
            }else {
              price = value;
            }
          }
        })
        /*形象的理解：包装  this表示对当前的对象的一个属性price 属性包装起来
        * 作用
         * 对属性封装一些操作:
             比如判断,校验,默认值等等

             保护某些属性

         Object.defineProperty（a，b，c）;
          a:须要属性设置的对象 
         b:须要设置的属性名，（键值） 
         c:是一个用于描述属性值得json数据.这个json数占领configurable，eumerable，writable，
         value构成 configurable:
         1.可否被删除，
         2.他的属性值可否被批改.
         3.可否把属性设置成接见器属性，默认是true，可以删除，，批改，设置 eumerable:可否被for-in轮回到 writable:默示属性值可否被批改 value:属性值.

         高级开发工程师编写一个对象，为了防止别人使用的时候限制某些权限，可以使用该方法
        */
        Object.defineProperty(this, "price", {
            get: function () {return price*0.9;},
            set: function (value) {
                /*大概普通产品的价格都在0--1万*/
                if(value>10000)
                {
                    alert('产品价格必须在0--1万之间');
                }else{
                    price = value;
                }
            }
        });
    }

    //定义对象的两种方式
    Product.prototype={
        getPrice:function() {
            return this.price
        },
        addToCart:function(){
            alert('将物品添加到购物车')
        }

    }


    Product.prototype.buy=function(){

    }
    Product.prototype.addToCart=function(){

    }






    /*获取元素*/
    var btn = document.getElementById('btn')
    var name = document.getElementById('pname')
    var price = document.getElementById('pprice')
    var sum = document.getElementById('sum')
    var des = document.getElementById('pdes')
    var youhuijia = document.getElementById('pyouhui')
    var zhekou = document.getElementById('pzhekou')
    var sales = document.getElementById('psales')
    var date = document.getElementById('date')

    /*搭积木开发 -- 代码可读性极高*/
    window.onload=function() {
        /*实例化 -- 实例 -- 具体*/
        //如何使用
        //对象的使用必须先实例化，对象定义好之后，都是抽象的，必须实例化成具体
        var iphone = new Product()

        /*给对象的赋值赋值，也可以新增属性*/
        iphone.name='iphone7'
        iphone.price=9000
        iphone.description='手机中的战斗机'
        iphone.youhuijia=3000
        iphone.zhekou=3.0
        iphone.sales=40000

        /*绑定元素*/
        /*通过点语法访问对象中的属性或者方法*/
        name.innerHTML=iphone.name
        price.innerHTML=iphone.price
        des.innerHTML=iphone.description
        youhuijia.innerHTML=iphone.youhuijia
        zhekou.innerHTML=iphone.zhekou
        sales.innerHTML=iphone.sales

        /*绑定事件*/
        btn.onclick = function(){
            iphone.addToCart()
        }
    }


</script>
